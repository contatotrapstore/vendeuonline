# ========================================
# VENDEU ONLINE - TEMPLATE DE CONFIGURA√á√ÉO
# ========================================
# Copie este arquivo para .env e configure suas credenciais
# cp .env.example .env

# ========================================
# üîë ESSENCIAIS (OBRIGAT√ìRIAS)
# ========================================

# Database PostgreSQL (Supabase)
DATABASE_URL="postgresql://postgres.SEU_PROJETO_ID:SUA_SENHA@db.SEU_PROJETO_ID.supabase.co:5432/postgres"

# JWT Secret (gere uma chave forte)
# node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
JWT_SECRET="sua_chave_jwt_super_forte_de_64_caracteres_minimo"

# Supabase (use os mesmos valores para todas as variaveis abaixo)
SUPABASE_URL="https://SEU_PROJETO_ID.supabase.co"
SUPABASE_ANON_KEY="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
SUPABASE_SERVICE_ROLE_KEY="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."

# Variaveis lidas pelo backend Express
NEXT_PUBLIC_SUPABASE_URL="https://SEU_PROJETO_ID.supabase.co"
NEXT_PUBLIC_SUPABASE_ANON_KEY="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."

# Variaveis usadas no build do frontend (Vite) - APENAS CREDENCIAIS P√öBLICAS
VITE_PUBLIC_SUPABASE_URL="https://SEU_PROJETO_ID.supabase.co"
VITE_PUBLIC_SUPABASE_ANON_KEY="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."

# ‚ùå REMOVIDO: VITE_SUPABASE_SERVICE_ROLE_KEY
# Service Role Key deve ficar APENAS no backend por seguran√ßa

# ========================================
# üè™ APLICA√á√ÉO
# ========================================

APP_NAME="Vendeu Online"
APP_URL="http://localhost:5173"
APP_ENV="development"

# Port Configuration (Centralized - Dynamic Fallback)
PORT="3000"                     # API Server Port (fallback: 3001-3011)
VITE_FRONTEND_PORT="5173"       # Frontend Port (fallback: 5174-5184)
VITE_API_URL="http://localhost:3000"  # Backend URL for proxy

# ========================================
# üí≥ PAGAMENTOS (ASAAS) - OBRIGAT√ìRIO PARA PRODU√á√ÉO
# ========================================

# ASAAS Payment Gateway (Brasileiro) - OBRIGAT√ìRIO PARA PAGAMENTOS REAIS
ASAAS_API_KEY="$aact_prod_000SuaChaveAquiDoAsaas"
ASAAS_BASE_URL="https://api.asaas.com/v3"
ASAAS_WEBHOOK_TOKEN="asaas-webhook-secret-2024"
ASAAS_WEBHOOK_URL="https://seu-projeto.vercel.app/api/payments/webhook"

# ‚ö†Ô∏è IMPORTANTE: SEM ASAAS_API_KEY o sistema funcionar√° apenas com dados MOCK

# Para desenvolvimento/sandbox use:
# ASAAS_API_KEY="$aact_YTU5YTE0M2M2N2I4MTliNzk0YTI5N2U5MzQwNWVkNDQ6OjAwMDAwMDAwMDAwMDAwODI4MTI6OiRhYWNoXzJlMDE5NDg3LWQyMjQtNDQ1Yy04NDUyLWI0ZDEzMmJiNmY1OA=="
# ASAAS_BASE_URL="https://sandbox.asaas.com/api/v3"

# ========================================
# üìß EMAIL (OPCIONAL)
# ========================================

# Configura√ß√µes SMTP para notifica√ß√µes
SMTP_HOST="smtp.gmail.com"
SMTP_PORT="587"
SMTP_USER="seu-email@gmail.com"
SMTP_PASS="sua-senha-app-gmail"
SMTP_FROM="noreply@seu-dominio.com"

# ========================================
# üì§ UPLOAD E STORAGE (OPCIONAL)
# ========================================

# Upload Configuration
UPLOAD_MAX_SIZE="10485760"  # 10MB
UPLOAD_ALLOWED_TYPES="image/jpeg,image/png,image/webp"

# Cloudinary (Fallback Storage)
CLOUDINARY_CLOUD_NAME="seu-cloud-name"
CLOUDINARY_API_KEY="sua-api-key"
CLOUDINARY_API_SECRET="sua-api-secret"

# ========================================
# üìä ANALYTICS (OPCIONAL)
# ========================================

# Google Analytics
GOOGLE_ANALYTICS_ID="G-SEU-ID-AQUI"

# ========================================
# üõ°Ô∏è SEGURAN√áA E PERFORMANCE
# ========================================

# Rate Limiting
RATE_LIMIT_MAX="100"
RATE_LIMIT_WINDOW="900000"  # 15 minutes

# ========================================
# üí∞ MERCADOPAGO (LEGACY - OPCIONAL)
# ========================================

# MercadoPago (Integra√ß√£o legada)
MERCADOPAGO_ACCESS_TOKEN="APP_USR-seu-token-aqui"
MERCADOPAGO_PUBLIC_KEY="APP_USR-sua-public-key"

# ========================================
# üìù INSTRU√á√ïES DE CONFIGURA√á√ÉO
# ========================================

# 1. SUPABASE:
#    - Acesse: https://supabase.com
#    - Crie um novo projeto
#    - Copie as credenciais para as vari√°veis acima
#    - Execute: npx prisma db push

# 2. JWT_SECRET:
#    - Execute: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
#    - Cole o resultado na vari√°vel JWT_SECRET

# 3. ASAAS (OPCIONAL):
#    - Acesse: https://asaas.com
#    - Crie uma conta e obtenha as chaves de API
#    - Configure webhook: /api/payments/webhook

# 4. EMAIL (OPCIONAL):
#    - Use Gmail com senha de app ou outro provedor SMTP
#    - Configure as credenciais SMTP

# 5. ANALYTICS (OPCIONAL):
#    - Configure Google Analytics se desejar m√©tricas

# ========================================
# üö® IMPORTANTE
# ========================================

# - NUNCA committar o arquivo .env com credenciais reais
# - Para produ√ß√£o no Vercel, configure as vari√°veis no dashboard
# - As vari√°veis com VITE_ s√£o expostas no frontend
# - Teste localmente antes do deploy: npm run dev

# ========================================
# üìö DOCUMENTA√á√ÉO
# ========================================

# Guia completo: /docs/DEPLOY_GUIDE.md
# Desenvolvimento: /docs/DEVELOPMENT.md
# API Reference: /docs/API_REFERENCE.md
